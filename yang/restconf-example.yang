module restconf-example {
  namespace "http://example.org/example-last-modified";
  prefix "ex";

  import openwrt-uci-extension {
    prefix uci;
  }

  typedef grade {
    type uint8 {
      range "0..100";
    }
  }

  typedef email {
    type string {
      pattern "[A-Za-z0-9]*@university.de";
    }
  }

  uci:uci-package "restconf-example";
  container course {
    uci:uci-section "course";
    uci:uci-section-type "course";

    leaf name {
      uci:uci-option "name";
      type string;
      description "name of the course";
    }

    leaf-list instructors {
      uci:uci-option "instructors";
      type string;
      description "list of names of instructors";
    }

    leaf semester {
      uci:uci-option "semester";
      type uint8 {
        range "1..6";
      }
    }

    list students {
      uci:uci-section-type "student";

      key "firstname lastname age";
      leaf firstname {
        uci:uci-option "firstname";
        type string;
      }

      leaf lastname {
        uci:uci-option "lastname";
        type string;
      }

      leaf age {
        uci:uci-option "age";
        type uint8 {
          range "0..120";
        }
      }

      leaf major {
        uci:uci-option "major";
        type string {
          pattern "(CS|IMS)";
        }
      }

      leaf grade {
        uci:uci-option "grade";
        type grade;
      }
    }

    container instructor {
      uci:uci-section "instructor";
      uci:uci-section-type "instructor";

      leaf name {
        uci:uci-option "name";
        type string;
      }

      leaf email {
        uci:uci-option "email";
        type email;
      }
    }
  }
}